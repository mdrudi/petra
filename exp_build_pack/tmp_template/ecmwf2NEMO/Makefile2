SHELL = /bin/sh

############################################################################
#
#        Makefile for input4NEMO 
#
############################################################################
#
#    Copyright 2014 Giacomo Girardi, INGV, Bologna
#
############################################################################
#
# INTEL 
F90 = ifort
P_P = -Dopt_netcdf
P_C = cpp -traditional-cpp
F_O = -c 
F_L = $(F90)
    
RM  = rm -f
                    
EXTINC = -I${NETCDF}/include
EXTLIB = -L${NETCDF}/lib -lnetcdff -lnetcdf -lhdf5_hl -lhdf5 -lcurl


SRC = seaoverland_v6.F90

OBJS = $(SRC:.F90=.o)
EXEC = seaoverland.exe #$(SRC:.F90=.exe)


all: $(EXEC)
	@echo $(EXEC) is compiled

$(EXEC) :
	$(F_L)  $(SRC)  -o $(EXEC)  $(EXTINC) $(EXTLIB) 

#$(EXEC) : $(OBJS)
#	$(F_L)  $(@:.exe=.o)  -o $@ $(EXTLIB) 

.F90.o :
	$(F90) $(F_O) $(P_P) $(EXTINC)  -o $@ $<
 
%.o: %.F90 
	$(F90) $(F_O) $(P_P) $(EXTINC)  -o $@ $<
	
clean:
	$(RM) *.o *.mod $(EXEC)
